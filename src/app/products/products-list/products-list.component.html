<mat-card [@list]="isLoading$ | async">
  <app-product-filter></app-product-filter>
  <cdk-virtual-scroll-viewport itemSize="50" class="virtual-scroll-container">
    <div class="list-item"
         *cdkVirtualFor="let p of products$ | async | productFilter:(filter$ | async); let last = last">
      <app-product-list-item [product]="p"></app-product-list-item>
      <mat-divider *ngIf="!last"></mat-divider>
    </div>
  </cdk-virtual-scroll-viewport>

  <div *ngIf="(products$ | async)?.length === 0">
    <p>You don't have any products, yet.</p>
    <p>Add one to your list, receive notifications when its price or availability changes and then, make a great
      bargain.</p>
  </div>
</mat-card>

<app-fab-button
  icon="add_to_cart"
  routerLink="new"
  [shouldShake]="(products$ | async)?.length === 0"
></app-fab-button>
